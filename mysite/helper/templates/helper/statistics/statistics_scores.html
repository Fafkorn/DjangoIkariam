{% extends "base.html" %}

{% load static %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{% static 'helper/statistics/statistics_scores.css' %}">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
    {% load helper_extras %}
{% endblock %}

{% block content %}
    {% load widget_tweaks %}
    {% include "helper/navigation.html" %}

<div class="tile" style="max-width: 800px;">
    <form action="{% url 'helper:statistics_scores' user.id %}" method="get">
        <div class="form-group">
            <label>Ranking</label>
            <select class="form-control" name="rank_type" >
                {% for rank_type in rank_types %}
                <option value="{{rank_type.0}}" {% ifequal selected_rank_type rank_type.0 %} selected {% endifequal %}>{{rank_type.1}}</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label>Od daty</label>
            <input class="form-control" type="date" name="selected_date" value='{{ selected_date }}' />
        </div>
        <div class="form-group">
            <button type="submit" class="confirm-btn btn btn-success">Wybierz</button>
        </div>
    </form>

    <table class="table">
        <tr>
            <th>#</th>
            <th>Nazwa gracza</th>
            <th>Przyrost</th>
            <th>Punkty</th>
        </tr>
        {% for player in best_players %}
        <tr>
            <td>{{forloop.counter}}</td>
            <td><a href="{% url 'helper:user_towns' player.id %}">{{player.user_name}}</a></td>
            <td style='color: #33ff33'>{{player.inc | number_commas}}</td>
            <td>{{player.ranking_score | number_commas}}</td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}